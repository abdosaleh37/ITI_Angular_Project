<div class="form-container">
  <form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)">

    <div class="input-field">
      <label for="email">Email Address</label>

      <input type="email" name="email" id="email" placeholder="Enter your email"
        #email="ngModel" [(ngModel)]="user.email" required email>

      @if(email.invalid && email.touched) {
        <div class="error-message">
          @if(email.errors?.['required']) {
            <span>Email is required </span>
          }
          @if(email.errors?.['email']) {
            <span>Please enter a valid email </span>
          }
        </div>
      }
    </div>

    <div class="input-field">
      <label for="password">Password</label>

      <input type="password" name="password" id="password" placeholder="Enter your password"
        #password="ngModel" [(ngModel)]="user.password" required >

      @if(password.invalid && password.touched) {
        <div class="error-message">
          @if(password.errors?.['required']) {
            <span>Password is required </span>
          }
        </div>
      }
    </div>

    <div class="input-field">
      <button type="submit" [disabled]="loginForm.invalid || loading">{{ loading ? 'Logging in...' : 'Log In' }}</button>
      <div class="error-message">
        @if(errorMessage){
          <span>{{ errorMessage }}</span>
        }
      </div>
    </div>

  </form>

  <div class="no-account">
    <span>Don't have account? </span>
    <a routerLink="/register">Register</a>
  </div>

</div>
